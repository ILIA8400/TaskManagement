@{
    ViewData["Title"] = "Task Management";
}
@using TaskManagement.Core.ViewModels
@model IndexVM

<div class="container">
    <h1>Task Management</h1>

    <div class="task-form">
        <h2>Add New Task</h2>
        <form asp-action="Create" method="post" id="taskForm">
            <input asp-for="ViewModel.Title" type="text" id="taskTitle" placeholder="Task Title" required maxlength="55">
            <textarea asp-for="ViewModel.Describtion" id="taskDescription" placeholder="Task Description" required maxlength="255"></textarea>
            <input asp-for="ViewModel.StartDate" type="date" id="startDate" placeholder="Start Date" required>
            <input asp-for="ViewModel.EndtDate" type="date" id="endDate" placeholder="End Date" required>
            <button type="submit">Add Task</button>
        </form>
    </div>

    <div class="task-list">
        <h2>Task List</h2>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="taskTableBody">
                @if(Model.Tasks != null)
                {
                    @foreach (var task in Model.Tasks)
                    {
                        <tr>
                            <td>@task.Title</td>
                            <td>@task.Description</td>
                            <td>@task.StartDate</td>
                            <td>@task.EndDate</td>
                            <td>Pending</td>
                            <td>
                                <a style="color:red;text-decoration:none;" asp-controller="Home" asp-action="Delete" asp-route-title="@task.Title" class="delete-btn">Delete</a>
                            </td>
                        </tr>
                    }
                }
                
            </tbody>
        </table>
    </div>
</div>
